<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<style>
		body,html{
			margin:0;
		}
		.img{
			width: 100%;
		}
		.container{
			position: relative;
		}
		.top{
			font-weight: 600;
			transform: scale(0.8, 1.2);
			font-family: emoji;
			color:#333;
			position: absolute;
			font-size: 18px;
			top:58.3%;
			width: 100%;
			text-align: center;
		}
		.bottom{
			bottom:15%;
			right:10%;
		}
		#bottomExpire{
			color:#e21e2a;
			position: relative;
			top:13px;
		}
		.gif{
			position: absolute;
			top: 25.3%;
			left: 22%;
			width: 55%;
			display: none;
		}
		.gif1{
			display: none;
			position: absolute;
			top: 19%;
			left: 14%;
			width: 80%;
		}
		.mock{
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			opacity: .5;
		}
		.audio{
			width: 0;
			height: 0;
		}
	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js" integrity="sha256-/H4YS+7aYb9kJ5OKhFYPUjSJdrtV6AeyJOtTkw6X72o=" crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
	<div class="top">
		<span id="topDay"></span>
		<span id="topTime"></span>
	</div>
	<img src="" alt="" class="gif1" id="gif1">
	<img src="" alt="" class="gif" id="gif">
	<img src="" alt="" class="img" id='back'>
	<audio src='./lv.mp3' autoplay class="audio"></audio>
</div>
<script>
	function getTopTime(){
		let d = new Date();
		let minutes = d.getMinutes()
		let displayM = minutes<10?'0'+minutes:minutes
		let seconds = d.getSeconds()
		let displayS = seconds<10?'0'+seconds:seconds
		return topTime = `${d.getHours()<10?'0'+d.getHours():d.getHours()}:${displayM}:${displayS}`	
	}
	function encrypt(msg,pass){
		return CryptoJS.AES.encrypt(msg, pass).toString();
	}
	function decrypt(msg, pass){
    	let decryptedBytes = CryptoJS.AES.decrypt(msg, pass);
    	return decryptedBytes.toString(CryptoJS.enc.Utf8);
	}
	window.onload = function(){
		// parse query
		let search = location.search.substring(1);
		let obj = JSON.parse('{"' + search.replace(/&/g, '","').replace(/=/g,'":"') + '"}', function(key, value) { return key===""?value:decodeURIComponent(value) })
		if(!obj.pass||!obj.type){
			return
		}
		let pass = obj.pass
		let back = decrypt('U2FsdGVkX18Dnl3xpw8F3uLn2BW4iTMuAvJq0jfVuObvoZP8ZDCHJSg9wgm1wA7rQipFmdAFleoslGNXJrukw5rJLY58Trhlw6xJaxMLY/2gOPdyWDvTacjcbjUmhDyG',pass)
		let aaa = decrypt('U2FsdGVkX1+cVIZxwQWR9I7gUOvdGvDT+uWQ2BaWsNqCe3raXLf4iJ2diGfN9J3cTGGRJEW7AXNE38GzfBjXV5IgGlIQbubcUby8oZ0KM/6ZjZNeqGLri6BsbUnJ7Q6b',pass)
		let aa = decrypt('U2FsdGVkX1+cVIZxwQWR9I7gUOvdGvDT+uWQ2BaWsNqCe3raXLf4iJ2diGfN9J3cTGGRJEW7AXNE38GzfBjXV5IgGlIQbubcUby8oZ0KM/6ZjZNeqGLri6BsbUnJ7Q6b',pass)
		if(!back){
			return
		}
		console.log(aaa)
		// assign url
		let backElem = document.getElementById('back')
		let gif1Elem = document.getElementById('gif1')
		let gifElem = document.getElementById('gif')
		//
		if(obj.type==1){
			gifElem.src = aaa
			document.getElementById('gif').style.display ='block'
		}else if(obj.type==2){
			gif1Elem.src = aa
			document.getElementById('gif1').style.display ='block'
		}
		backElem.src = back

		let d = new Date();
		let day = d.getDate()
		let displayDay = day<10?'0'+day:day
		let minutes = d.getMinutes()
		let displayM = minutes<10?'0'+minutes:minutes
		let seconds = d.getSeconds()
		let displayS = seconds<10?'0'+seconds:seconds
		let month = d.getMonth()+1
		let displayMonth = month<10?'0'+month:month
		let top = `${d.getFullYear()}-${displayMonth}-${displayDay}`
		let topTime = `${d.getHours()<10?'0'+d.getHours():d.getHours()}:${displayM}:${displayS}`
		document.getElementById('topDay').innerHTML = top
		// tick tick
		document.getElementById('topTime').innerHTML = topTime
		
		setInterval(()=>{
			document.getElementById('topTime').innerHTML = getTopTime()
		},1000)
		let dom = document.querySelectorAll('#gif')[0]
		dom.onclick = function(){
			let a = document.querySelectorAll('audio')[0]
			a&&a.play()
		}
	}
</script>
</body>
</html>
